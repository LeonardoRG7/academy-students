<div class="container mt-5">
  <div class="row justify-content-center align-items-center g-2">
    <div class="col-lg-6">
      <div class="card">
        <div class="card-body text-center">
          <h2>Asignar Materias a Estudiantes</h2>
          <div>
            <label>Seleccionar Estudiante:</label>
            <select [(ngModel)]="selectedStudent" class="form-select">
              <option *ngFor="let student of students" [ngValue]="student">
                {{ student.firstName }}
              </option>
            </select>
          </div>

          <div>
            <label>Seleccionar Materia:</label>
            <select [(ngModel)]="selectedSubject" class="form-select">
              <option *ngFor="let subject of subjects" [ngValue]="subject">
                {{ subject.name }}
              </option>
            </select>
          </div>
          <button class="btn btn-success mt-3" routerLink="/">
            Estudiantes
          </button>
          <button class="btn btn-danger mt-3 mx-3" routerLink="/subjects-list">
            Materias
          </button>
          <button
            (click)="assignSubjectToStudent()"
            class="btn btn-primary mt-3"
          >
            Asignar Materia
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="row mt-5">
    <div class="col-lg-12">
      <h2>Lista de Estudiantes</h2>
      <table class="table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Nombre del Estudiante</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let student of students">
            <td>{{ student.id }}</td>
            <td>{{ student.firstName }}</td>
            <td>
              <button
                (click)="showSubjectsForStudent(student)"
                class="btn btn-info"
              >
                Ver Materias
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="row mt-5" *ngIf="subjectByStudent && subjectByStudent.length > 0">
    <div class="col-lg-12">
      <h2>Lista de Materias para {{ selectedStudent }}</h2>
      <table class="table">
        <thead>
          <tr>
            <th>Materias</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>{{ getSubjectNames(subjectByStudent) }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <div class="social-links">
      <a
        href="https://www.linkedin.com/in/leonardo-riascos-20b466200/"
        title="LinkedIn"
        target="_blank"
        ><i class="fa-brands fa-linkedin"></i
      ></a>
      <a href="https://github.com/LeonardoRG7" title="GitHub" target="_blank"
        ><i class="fa-brands fa-github"></i
      ></a>
      <a
        href="https://leonardoriascosportafolio.netlify.app/"
        title="Portafolio"
        target="_blank"
        ><i class="fa-solid fa-link"></i
      ></a>
    </div>
    <p class="footer-copy" data-section="footer" data-value="copy">
      © RiascosDEV.me All right reserved <br />
      Made with ❤️ in Colombia
    </p>
  </div>
</footer>
